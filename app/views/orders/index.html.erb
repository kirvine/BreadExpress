<h2>All Orders</h2>

<% unless @orders.empty? %>
  <br /><br />
  <table class="striped">
    <thead>
      <tr>
        <th data-field="date">Date</th>
        <th data-field="customer">Customer</th>
        <th data-field="recipient">Recipient</th>
        <th data-field="grand_total">Cost</th>
        <th data-field="edit">Edit</th>
        <th data-field="destroy">Destroy</th>
      </tr>
    </thead>

  <% @orders.each do |order| %>
    <tr>
      <td><%= link_to order.date.strftime("%m/%d/%y"), order_path(order) %></td>
      <td><%= link_to order.customer.name, customer_path(order.customer) %></td>
      <td><%= order.address.recipient %></td>
      <td align="right">$<%= number_with_precision(order.grand_total, :precision => 2) %></td>
      <td><%= link_to 'Edit', edit_order_path(order) %></td>
      <td><%= link_to 'Destroy', order, data: { confirm: 'Are you sure?' }, method: :delete %></td>
    </tr>
  <% end %>
  </table>
  <br />
  <!-- Add the pagination using will_paginate gem -->
  <span class="paginate">
  <%= will_paginate @orders, :previous_label => "Previous&nbsp;", :next_label => "&nbsp;Next" %>
  </span>
  <br /><br /><br />
  <% else %>
  <p>There are no orders at this time</p>
<% end %>

<%= link_to 'New Order', new_order_path %>