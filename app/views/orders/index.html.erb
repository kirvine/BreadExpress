<h2>All Orders</h2>

<% unless @orders.empty? %><br />
  <div class="card">
    <div class="card-content grey-text text-darken-3">
      <table class="hoverable">
        <thead>
          <tr>
            <th data-field="date">Date</th>
            <th data-field="customer">Customer</th>
            <th data-field="recipient">Recipient</th>
            <th data-field="grand_total">Cost</th>
          </tr>
        </thead>

      <% @orders.each do |order| %>
        <tr>
          <td><%= link_to order.date.strftime("%m/%d/%y"), order_path(order) %></td>
          <td><%= link_to order.customer.name, customer_path(order.customer) %></td>
          <td><%= order.address.recipient %></td>
          <td align="right">$<%= number_with_precision(order.grand_total, :precision => 2) %></td>
        </tr>
      <% end %>
      </table>
    </div>
  </div>

  <!-- Add the pagination using will_paginate gem -->
  <br />
  <span class="paginate">
  <%= will_paginate @orders, :previous_label => "Previous&nbsp;", :next_label => "&nbsp;Next" %>
  </span>
  <br />
  <% else %>
  <p>There are no orders at this time</p>
<% end %>

<%= link_to 'New Order', new_order_path %>